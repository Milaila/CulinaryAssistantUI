<div class="RecipeList">
  <ng-container *ngIf="recipesCount; else noRecipes">
    <mat-paginator [length]="recipesCount"
      #paginator
      [pageSize]="itemsPerPage"
      [pageIndex]="currentPage"
      (page)="pageEvent = onChangePage($event)"
      [pageSizeOptions]="itemsOptions">
    </mat-paginator>
    <div class="RecipeList-recipes">
      <mat-card class="recipe-card" *ngFor="let recipe of currRecipes">
        <div class="recipe-card-content">
          <div class="imageContainer" *ngIf="recipe.imageSrc$ | async as image">
            <img mat-card-image [src]="image">
          </div>
          <mat-card-title>{{ recipe.title }}</mat-card-title>
          <mat-card-content>
            {{ recipe.description }}
          </mat-card-content>
        </div>
        <div class="recipe-card-footer">
          <mat-divider></mat-divider>
          <div class="actions">
            <button mat-stroked-button color="primary" (click)="viewRecipeDetails(recipe.id)">Деталі</button>
            <ng-container *ngIf="auth.isAuthorized">
              <button *ngIf="enableEditing" mat-stroked-button (click)="editRecipe(recipe.id)">Редагувати</button>
              <button *ngIf="enableEditing || auth.isAdmin" mat-stroked-button (click)="deleteRecipe(recipe.id)" color="warn">
                Видалити</button>
            </ng-container>
          </div>
        </div>
      </mat-card>
    </div>
    <mat-paginator *ngIf="recipesCount > 0"
      [length]="recipesCount"
      #paginatorFooter
      [pageSize]="itemsPerPage"
      [pageIndex]="currentPage"
      (page)="pageEvent = onChangePage($event)"
      [pageSizeOptions]="itemsOptions">
    </mat-paginator>
  </ng-container>
  <ng-template #noRecipes>
    <div class="RecipeList-noRecipes">
      <h3 *ngIf="recipesCount === 0" class="thin">{{ noRecipesLabel }}</h3>
      <div class="spinner-container" *ngIf="recipes === null">
        <mat-spinner></mat-spinner>
        <span>Завантаження даних...</span>
      </div>
    </div>
  </ng-template>
</div>
